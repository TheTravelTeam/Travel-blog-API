{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/users/{userId}":{"get":{"tags":["user-controller"],"operationId":"getUserById","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserWithDiariesDTO"}}}}}},"put":{"tags":["user-controller"],"operationId":"updateUser","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpsertUserDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}}}},"delete":{"tags":["user-controller"],"operationId":"deleteUserById","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/travel-diaries/{id}":{"get":{"tags":["travel-diary-controller"],"operationId":"getTravelDiaryById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TravelDiaryDTO"}}}}}},"put":{"tags":["travel-diary-controller"],"operationId":"updateTravelDiary","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTravelDiaryDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TravelDiaryDTO"}}}}}},"delete":{"tags":["travel-diary-controller"],"operationId":"deleteTravelDiary","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/themes/update/{id}":{"put":{"tags":["theme-controller"],"operationId":"updateTheme","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThemeDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ThemeDTO"}}}}}}},"/steps/{stepId}":{"get":{"tags":["step-controller"],"operationId":"getStepById","parameters":[{"name":"stepId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StepResponseDTO"}}}}}},"put":{"tags":["step-controller"],"operationId":"updateStep","parameters":[{"name":"stepId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StepRequestDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StepResponseDTO"}}}}}},"delete":{"tags":["step-controller"],"operationId":"deleteStep","parameters":[{"name":"stepId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/medias/{id}":{"get":{"tags":["media-controller"],"operationId":"getMediaById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MediaDTO"}}}}}},"put":{"tags":["media-controller"],"operationId":"updateMedia","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateMediaDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MediaDTO"}}}}}},"delete":{"tags":["media-controller"],"operationId":"deleteMedia","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/comments/{id}":{"get":{"tags":["comment-controller"],"operationId":"getCommentById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommentDTO"}}}}}},"put":{"tags":["comment-controller"],"operationId":"updateCommentById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpsertCommentDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommentDTO"}}}}}},"delete":{"tags":["comment-controller"],"operationId":"deleteCommentById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/articles/{articleId}":{"get":{"tags":["article-controller"],"operationId":"getArticleById","parameters":[{"name":"articleId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ArticleDTO"}}}}}},"put":{"tags":["article-controller"],"operationId":"updateArticle","parameters":[{"name":"articleId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateArticleDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ArticleDTO"}}}}}},"delete":{"tags":["article-controller"],"operationId":"deleteArticle","parameters":[{"name":"articleId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/travel-diaries":{"get":{"tags":["travel-diary-controller"],"operationId":"getAllTravelDiaries","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TravelDiaryDTO"}}}}}}},"post":{"tags":["travel-diary-controller"],"operationId":"createTravelDiary","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTravelDiaryDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TravelDiaryDTO"}}}}}}},"/themes":{"get":{"tags":["theme-controller"],"operationId":"getAllTheme","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ThemeDTO"}}}}}}},"post":{"tags":["theme-controller"],"operationId":"createTheme","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThemeDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ThemeDTO"}}}}}}},"/steps":{"get":{"tags":["step-controller"],"operationId":"getAllSteps","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StepResponseDTO"}}}}}}},"post":{"tags":["step-controller"],"operationId":"createStep","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StepRequestDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StepResponseDTO"}}}}}}},"/medias":{"get":{"tags":["media-controller"],"operationId":"getAllMedias","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MediaDTO"}}}}}}},"post":{"tags":["media-controller"],"operationId":"createMedia","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateMediaDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MediaDTO"}}}}}}},"/comments":{"get":{"tags":["comment-controller"],"operationId":"getAllComments","parameters":[{"name":"stepId","in":"query","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"userId","in":"query","required":false,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommentDTO"}}}}}}},"post":{"tags":["comment-controller"],"operationId":"createComment","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpsertCommentDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommentDTO"}}}}}}},"/cloudinary/signature":{"post":{"tags":["cloudinary-controller"],"operationId":"generateSignature","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CloudinarySignatureRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CloudinarySignatureResponse"}}}}}}},"/cloudinary/media":{"post":{"tags":["cloudinary-controller"],"operationId":"registerAsset","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CloudinaryAssetRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MediaDTO"}}}}}}},"/auth/reset-password":{"post":{"tags":["auth-controller"],"operationId":"resetPassword","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordResetRequestDTO"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/auth/register":{"post":{"tags":["auth-controller"],"operationId":"registerUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegistrationDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}}}}},"/auth/logout":{"post":{"tags":["auth-controller"],"operationId":"logout","responses":{"200":{"description":"OK"}}}},"/auth/login":{"post":{"tags":["auth-controller"],"operationId":"authenticate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLoginDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/auth/forgot-password":{"post":{"tags":["auth-controller"],"operationId":"forgotPassword","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForgotPasswordRequestDTO"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/articles":{"get":{"tags":["article-controller"],"operationId":"getAllArticles","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ArticleDTO"}}}}}}},"post":{"tags":["article-controller"],"operationId":"createArticle","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateArticleDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ArticleDTO"}}}}}}},"/users/{userId}/roles":{"patch":{"tags":["user-controller"],"operationId":"updateUserRoles","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserRolesDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}}}}},"/steps/{stepId}/likes":{"patch":{"tags":["step-controller"],"operationId":"updateStepLikes","parameters":[{"name":"stepId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StepLikeUpdateRequestDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StepResponseDTO"}}}}}}},"/comments/{id}/status":{"patch":{"tags":["comment-controller"],"operationId":"moderateCommentById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModerateCommentDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommentDTO"}}}}}}},"/users":{"get":{"tags":["user-controller"],"operationId":"getAllUsers","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserDTO"}}}}}}}},"/users/pseudo":{"get":{"tags":["user-controller"],"operationId":"getUserByPseudo","parameters":[{"name":"pseudo","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserWithDiariesDTO"}}}}}}},"/users/email":{"get":{"tags":["user-controller"],"operationId":"getUserByEmail","parameters":[{"name":"email","in":"query","required":true,"schema":{"type":"string"}},{"name":"withDiaries","in":"query","required":false,"schema":{"type":"boolean","default":false}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/travel-diaries/users/{userId}":{"get":{"tags":["travel-diary-controller"],"operationId":"getTravelDiariesByUser","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TravelDiaryDTO"}}}}}}}},"/themes/{id}":{"get":{"tags":["theme-controller"],"operationId":"getTheme","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ThemeDTO"}}}}}},"delete":{"tags":["theme-controller"],"operationId":"deleteTheme","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/search":{"get":{"tags":["search-controller"],"operationId":"search","parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SearchResponseDTO"}}}}}}},"/medias/travel-diary/{diaryId}":{"get":{"tags":["media-controller"],"operationId":"getMediaByTravelDiary","parameters":[{"name":"diaryId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MediaDTO"}}}}}}},"/medias/step/{stepId}":{"get":{"tags":["media-controller"],"operationId":"getMediasByStep","parameters":[{"name":"stepId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MediaDTO"}}}}}}}},"/medias/article/{articleId}":{"get":{"tags":["media-controller"],"operationId":"getMediasByArticle","parameters":[{"name":"articleId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MediaDTO"}}}}}}}},"/cloudinary/media/{publicId}":{"get":{"tags":["cloudinary-controller"],"operationId":"resolvePublicUrl","parameters":[{"name":"publicId","in":"path","required":true,"schema":{"type":"string"}},{"name":"urlRequest","in":"query","required":true,"schema":{"$ref":"#/components/schemas/CloudinaryUrlRequest"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CloudinaryUrlResponse"}}}}}}},"/auth/me":{"get":{"tags":["auth-controller"],"operationId":"getCurrentUser","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}}}}}},"components":{"schemas":{"UpsertUserDTO":{"required":["email","pseudo"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"pseudo":{"maxLength":50,"minLength":0,"type":"string"},"password":{"maxLength":2147483647,"minLength":8,"type":"string"},"email":{"type":"string"},"biography":{"type":"string"},"avatar":{"type":"string"},"status":{"type":"string","enum":["ACTIVE","INACTIVE","BLOCKED"]}}},"UserDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"pseudo":{"type":"string"},"avatar":{"type":"string"},"email":{"type":"string"},"biography":{"type":"string"},"status":{"type":"string"},"roles":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"UpdateTravelDiaryDTO":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"},"isPrivate":{"type":"boolean"},"isPublished":{"type":"boolean"},"status":{"type":"string","enum":["IN_PROGRESS","COMPLETED","DISABLED"]},"startDate":{"type":"string","format":"date"},"endDate":{"type":"string","format":"date"},"canComment":{"type":"boolean"},"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"},"steps":{"type":"array","items":{"type":"integer","format":"int64"}},"user":{"type":"integer","format":"int64"},"media":{"$ref":"#/components/schemas/UpdateTravelDiaryMediaDTO"}}},"UpdateTravelDiaryMediaDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"fileUrl":{"type":"string"},"mediaType":{"type":"string","enum":["PHOTO","VIDEO"]},"isVisible":{"type":"boolean"},"publicId":{"type":"string"}}},"CommentDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"content":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"status":{"type":"string","enum":["APPROVED","PENDING","REJECTED"]},"user":{"$ref":"#/components/schemas/UserDTO"}}},"MediaDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"fileUrl":{"type":"string"},"publicId":{"type":"string"},"mediaType":{"type":"string","enum":["PHOTO","VIDEO"]},"isVisible":{"type":"boolean"},"stepId":{"type":"integer","format":"int64"},"articleId":{"type":"integer","format":"int64"},"travelDiaryId":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"StepResponseDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"description":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"startDate":{"type":"string","format":"date"},"endDate":{"type":"string","format":"date"},"status":{"type":"string","enum":["IN_PROGRESS","COMPLETED","DISABLED"]},"likesCount":{"type":"integer","format":"int64"},"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"},"city":{"type":"string"},"country":{"type":"string"},"continent":{"type":"string"},"travelDiaryId":{"type":"integer","format":"int64"},"themeIds":{"type":"array","items":{"type":"integer","format":"int64"}},"themes":{"type":"array","items":{"$ref":"#/components/schemas/ThemeDTO"}},"comments":{"type":"array","items":{"$ref":"#/components/schemas/CommentDTO"}},"media":{"type":"array","items":{"$ref":"#/components/schemas/MediaDTO"}}}},"ThemeDTO":{"required":["name"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"maxLength":100,"minLength":2,"type":"string"},"updatedAt":{"type":"string","format":"date-time"}}},"TravelDiaryDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"description":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"isPrivate":{"type":"boolean"},"isPublished":{"type":"boolean"},"status":{"type":"string","enum":["IN_PROGRESS","COMPLETED","DISABLED"]},"startDate":{"type":"string","format":"date"},"endDate":{"type":"string","format":"date"},"canComment":{"type":"boolean"},"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"},"steps":{"type":"array","items":{"$ref":"#/components/schemas/StepResponseDTO"}},"user":{"type":"integer","format":"int64"},"media":{"$ref":"#/components/schemas/MediaDTO"}}},"StepRequestDTO":{"required":["title","travelDiaryId"],"type":"object","properties":{"title":{"maxLength":50,"minLength":2,"type":"string"},"description":{"maxLength":5000,"minLength":0,"type":"string"},"startDate":{"type":"string","format":"date"},"endDate":{"type":"string","format":"date"},"status":{"type":"string","enum":["IN_PROGRESS","COMPLETED","DISABLED"]},"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"},"city":{"maxLength":100,"minLength":2,"type":"string"},"country":{"maxLength":100,"minLength":2,"type":"string"},"continent":{"maxLength":50,"minLength":2,"type":"string"},"travelDiaryId":{"type":"integer","format":"int64"},"themeIds":{"type":"array","items":{"type":"integer","format":"int64"}}}},"UpdateMediaDTO":{"type":"object","properties":{"fileUrl":{"type":"string"},"publicId":{"type":"string"},"mediaType":{"type":"string","enum":["PHOTO","VIDEO"]},"stepId":{"type":"integer","format":"int64"},"articleId":{"type":"integer","format":"int64"},"travelDiaryId":{"type":"integer","format":"int64"},"isVisible":{"type":"boolean"}}},"UpsertCommentDTO":{"required":["content","stepId"],"type":"object","properties":{"content":{"type":"string"},"stepId":{"type":"integer","format":"int64"}}},"UpdateArticleDTO":{"type":"object","properties":{"title":{"type":"string"},"content":{"type":"string"},"coverUrl":{"type":"string"},"mediaIds":{"type":"array","items":{"type":"integer","format":"int64"}},"userId":{"type":"integer","format":"int64"}}},"ArticleDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"content":{"type":"string"},"coverUrl":{"type":"string"},"medias":{"type":"array","items":{"$ref":"#/components/schemas/MediaDTO"}},"updatedAt":{"type":"string","format":"date-time"},"slug":{"type":"string"},"userId":{"type":"integer","format":"int64"},"pseudo":{"type":"string"}}},"CreateMediaDTO":{"required":["fileUrl","mediaType"],"type":"object","properties":{"fileUrl":{"type":"string"},"publicId":{"type":"string"},"mediaType":{"type":"string","enum":["PHOTO","VIDEO"]},"stepId":{"type":"integer","format":"int64"},"articleId":{"type":"integer","format":"int64"},"travelDiaryId":{"type":"integer","format":"int64"},"isVisible":{"type":"boolean"}}},"CreateTravelDiaryDTO":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"},"isPrivate":{"type":"boolean"},"isPublished":{"type":"boolean"},"status":{"type":"string","enum":["IN_PROGRESS","COMPLETED","DISABLED"]},"startDate":{"type":"string","format":"date"},"endDate":{"type":"string","format":"date"},"canComment":{"type":"boolean"},"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"},"steps":{"type":"array","items":{"type":"integer","format":"int64"}},"user":{"type":"integer","format":"int64"},"media":{"$ref":"#/components/schemas/CreateMediaDTO"}}},"CloudinarySignatureRequest":{"type":"object","properties":{"publicId":{"type":"string"},"uploadPreset":{"type":"string"}}},"CloudinarySignatureResponse":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int64"},"signature":{"type":"string"},"apiKey":{"type":"string"},"cloudName":{"type":"string"},"uploadPreset":{"type":"string"}}},"CloudinaryAssetRequest":{"required":["publicId","secureUrl"],"type":"object","properties":{"publicId":{"type":"string"},"secureUrl":{"type":"string"},"isVisible":{"type":"boolean"},"mediaType":{"type":"string","enum":["PHOTO","VIDEO"]},"stepId":{"type":"integer","format":"int64"},"travelDiaryId":{"type":"integer","format":"int64"},"articleId":{"type":"integer","format":"int64"}}},"PasswordResetRequestDTO":{"required":["password","token"],"type":"object","properties":{"token":{"type":"string"},"password":{"maxLength":2147483647,"minLength":8,"type":"string"}}},"UserRegistrationDTO":{"required":["email","pseudo"],"type":"object","properties":{"pseudo":{"maxLength":50,"minLength":3,"type":"string"},"password":{"maxLength":2147483647,"minLength":8,"type":"string"},"email":{"type":"string"}}},"UserLoginDTO":{"required":["email"],"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"ForgotPasswordRequestDTO":{"required":["email"],"type":"object","properties":{"email":{"type":"string"}}},"CreateArticleDTO":{"required":["title"],"type":"object","properties":{"title":{"type":"string"},"content":{"type":"string"},"coverUrl":{"type":"string"},"mediaIds":{"type":"array","items":{"type":"integer","format":"int64"}},"userId":{"type":"integer","format":"int64"}}},"UpdateUserRolesDTO":{"required":["admin"],"type":"object","properties":{"admin":{"type":"boolean"}}},"StepLikeUpdateRequestDTO":{"required":["increment"],"type":"object","properties":{"increment":{"type":"boolean"}}},"ModerateCommentDTO":{"required":["status"],"type":"object","properties":{"status":{"type":"string"}}},"SummaryStepDTO":{"type":"object","properties":{"title":{"type":"string"},"id":{"type":"integer","format":"int64"}}},"SummaryTravelDiaryDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"description":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"isPrivate":{"type":"boolean"},"isPublished":{"type":"boolean"},"status":{"type":"string","enum":["IN_PROGRESS","COMPLETED","DISABLED"]},"startDate":{"type":"string","format":"date"},"endDate":{"type":"string","format":"date"},"canComment":{"type":"boolean"},"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"},"steps":{"type":"array","items":{"$ref":"#/components/schemas/SummaryStepDTO"}},"media":{"$ref":"#/components/schemas/MediaDTO"}}},"UserWithDiariesDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"pseudo":{"type":"string"},"avatar":{"type":"string"},"email":{"type":"string"},"biography":{"type":"string"},"status":{"type":"string"},"roles":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"travelDiaries":{"type":"array","items":{"$ref":"#/components/schemas/SummaryTravelDiaryDTO"}}}},"SearchDiaryDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"description":{"type":"string"},"coverUrl":{"type":"string"}}},"SearchResponseDTO":{"type":"object","properties":{"diaries":{"type":"array","items":{"$ref":"#/components/schemas/SearchDiaryDTO"}},"steps":{"type":"array","items":{"$ref":"#/components/schemas/SearchStepDTO"}}}},"SearchStepDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"diaryId":{"type":"integer","format":"int64"},"diaryTitle":{"type":"string"},"excerpt":{"type":"string"}}},"CloudinaryUrlRequest":{"type":"object","properties":{"width":{"type":"integer","format":"int32"},"height":{"type":"integer","format":"int32"},"crop":{"type":"string"},"format":{"type":"string"},"quality":{"type":"string"}}},"CloudinaryUrlResponse":{"type":"object","properties":{"publicId":{"type":"string"},"url":{"type":"string"}}}}}}